<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Quiz Maker</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 p-6">
    <div class="max-w-4xl mx-auto">
        <!-- Input -->
        <div class="bg-white rounded-lg shadow p-6 mb-6">
            <h1 class="text-2xl font-bold mb-4">Quiz Generator</h1>
            <textarea 
                id="notesInput" 
                class="w-full h-64 p-4 border rounded"
                placeholder="Paste your notes here..."
            ></textarea>
            <button 
                onclick="makeQuiz()" 
                class="mt-4 w-full bg-blue-500 text-white px-6 py-3 rounded hover:bg-blue-600"
            >
                Create Quiz
            </button>
        </div>

        <!-- Quiz -->
        <div id="quizDisplay" class="hidden">
            <div id="questionList" class="space-y-6">
                <!-- Questions will appear here -->
            </div>
            <button 
                onclick="checkAnswers()" 
                class="mt-6 w-full bg-green-500 text-white px-6 py-3 rounded hover:bg-green-600"
            >
                Check Answers
            </button>
        </div>
    </div>

    <script>
        function makeQuiz() {
            const notes = document.getElementById('notesInput').value;
            if (!notes) {
                alert('Please enter some notes!');
                return;
            }

            // Break notes into topics
            const lines = notes.split('\n').map(line => line.trim()).filter(line => line.length > 0);
            
            // Generate questions
            const questions = [];
            
            lines.forEach(line => {
                // Get main topic from line
                const words = line.split(' ');
                const mainWords = words.filter(word => word.length > 4);
                
                if (mainWords.length > 0) {
                    // Create a "why" question
                    questions.push({
                        question: `Why is ${mainWords[0]} important?`,
                        correctAnswer: `${mainWords[0]} is essential because it relates to the main topic`,
                        wrongAnswers: [
                            `${mainWords[0]} is not important to this topic`,
                            `${mainWords[0]} only matters in other subjects`,
                            `${mainWords[0]} has no significance here`
                        ]
                    });

                    // Create a "how" question
                    questions.push({
                        question: `How does ${mainWords[0]} affect the topic?`,
                        correctAnswer: `${mainWords[0]} directly impacts understanding of the subject`,
                        wrongAnswers: [
                            `${mainWords[0]} has no effect on the topic`,
                            `${mainWords[0]} only affects unrelated areas`,
                            `${mainWords[0]} is a minor detail`
                        ]
                    });
                }
            });

            // Display the questions
            const questionList = document.getElementById('questionList');
            questionList.innerHTML = questions.map((q, i) => `
                <div class="bg-white rounded-lg shadow p-6">
                    <p class="font-bold mb-4">Question ${i + 1}: ${q.question}</p>
                    <div class="space-y-2">
                        ${[q.correctAnswer, ...q.wrongAnswers]
                            .sort(() => Math.random() - 0.5)
                            .map((answer, j) => `
                                <div class="flex items-center">
                                    <input type="radio" 
                                           name="q${i}" 
                                           value="${answer}"
                                           id="q${i}a${j}" 
                                           class="mr-2">
                                    <label for="q${i}a${j}">${answer}</label>
                                </div>
                            `).join('')}
                    </div>
                </div>
            `).join('');

            document.getElementById('quizDisplay').classList.remove('hidden');
        }

        function checkAnswers() {
            const questions = document.getElementsByClassName('bg-white rounded-lg shadow p-6');
            let score = 0;
            let total = 0;

            for (let question of questions) {
                const selected = question.querySelector('input:checked');
                if (selected) {
                    total++;
                    // The first option in the original array was the correct answer
                    if (selected.value.includes('essential') || selected.value.includes('directly impacts')) {
                        score++;
                    }
                }
            }

            alert(`You got ${score} out of ${total} correct!`);
        }
    </script>
</body>
</html>
